# 자바 배경지식

## 역사

- 1991년 선마이크로시스템스에서 제임스 고슬링을 중심으로 가전제품에 사용할 소프트웨어를 개발하는 프로젝트(그린 프로젝트)를 시작
- 기존의 프로그래밍 언어로 작성된 프로그램은 플랫폼에 따라 다시 소스를 컴파일하거나 프로그램을 재작성해야 하는 단점 발견
- 플랫폼이 매우 다양한 가전제품을 위해 플랫폼에 독립적인 프로그래밍 언어의 필요성 대두
- 가전제품은 보통 매우 적은 양의 메모리를 사용하므로 작은 메모리를 효율적으로 사용할 수 있는 언어 또한 필요
- 위와 같은 이유로 선마이크로시스템스는 플랫폼에 독립적이며 메모리 사용량이 작은 언어 oak 개발
- 이후 인터넷과 웹이 많은 발전을 이루면서 웹 콘텐츠가 클라이언트의 다양한 플랫폼에서 동작할 수 있게 하는 언어가 필요
- oak는 플랫폼에 독립적이므로 인터넷과 웹에서 사용하기 좋은 특성
- 선마이크로시스템스는 oak의 이러한 특성을 인지한 후 oak를 인터넷 환경에 적합하게 발전시켜 1995년 Java라는 새로운 언어를 발표
- 당시 가장 많이 사용되던 인터넷 브라우저인 넷스케이프에 자바를 사용하면서 자바는 급속하게 확산
- 현재는 선마이크로시스템스를 인수한 오라클이 자바를 제공

## C/C++과 Java의 비교

### C/C++

#### 플랫폼 종속성 

- 컴파일러가 기계어 코드를 변환할 때 프로그램이 실행될 대상에 종속적인 코드로 변환
- 따라서 기계어 코드를 다른 플랫폼에서 실행하려면 다시 컴파일하거나 플랫폼에 적합한 코드로 수정

#### 링크 존재

- C/C++ 소스를 컴파일하면 각 소스 파일마다 목적 파일(.obj)을 생성
- 링커가 컴파일한 목적 파일들을 링크하여 하나의 실행 파일(.exe) 생성
- 링크란 프로그램에서 호출한 라이브러리의 함수를 찾고 그 함수들의 목적 코드를 실행 파일에 삽입하는 것을 의미
- 실행 파일에는 실행에 필요한 모든 코드가 존재
- 메모리가 실행 파일에 존재하는 모든 코드를 로드할 수 있는 경우에만 프로그램 실행 가능

### Java

#### 플랫폼 독립성

- 자바 가상 머신(JVM)만 존재한다면 운영체제나 하드웨어에 상관없이 자바로 작성된 프로그램 실행 가능
- 자바의 플랫폼에 독립적인 특성을 WORA(Write Once Run Anywhere)라고 표현

#### 링크 부재

- 자바 소스 파일(.java)를 컴파일하여 각 소스 파일마다 클래스 파일(.class)을 생성
- 하나의 실행 파일(.exe)로 링크하지 않고 자바 가상 머신이 여러 클래스 파일 중 필요한 클래스 파일만을 메모리에 로드하고 실행
- 메모리가 모든 클래스파일을 로드할 수 없어도 프로그램 실행 가능 

## 자바 가상 머신과 바이트 코드

### 자바 가상 머신

- 자바 가상 머신은 소프트웨어로 서로 다른 플랫폼에서 자바 프로그램이 실행되는 동일한 환경 제공
- 자바 가상 머신 자체는 플랫폼마다 다르게 작성되어 있으므로 플랫폼에 종속적
- 자바 개발사인 오라클 뿐만 아니라 IBM, 마이크로소프트 등 다양한 회사에서 제작 공급

### 바이트 코드

- 자바 가상 머신에서만 동작하는 바이너리 코드(binary code)
- 자바 컴파일러는 자바 소스 코드를 컴파일하여 바이트 코드로 작성된 클래스 파일 생성
- 클래스 파일은 CPU에 의해 직접 실행되지 않고, 자바 가상 머신에 의해 인터프리터 방식으로 실행
- 인터프리터 방식은 프로그램의 코드를 한 문장씩 읽고 번역 후 실행하는 방식
- 클래스 파일은 플랫폼에 상관없이 자바 가상 머신이 존재한다면 실행 가능

## JDK(Java Development Kit)

### JRE

- JRE(Java Runtime Environment)는 JDK의 구성 요소 중 하나로 자바 응용프로그램이 실행될 때 필요한 소프트웨어들
- 자바 가상 머신과 자바 API를 포함
- 자바 API(Application Programming Interface)는 미리 만들어놓은 유용한 자바 클래스들의 집합

### 주요 개발 도구

- 자바 주요 개발 도구는 JDK 디렉토리의 bin 디렉토리에 위치 
- javac : 자바 컴파일러로 자바 소스 코드를 바이트 코드로 변환
- java : 자바 가상 머신을 작동시켜 자바 프로그램을 실행시키는 실행기
- javadoc : 자바 소스 코드로부터 HTML 형식의 API document 생성
- jar : 자바 클래스 파일을 압축한 자바 아카이브 파일(.jar) 생성, 관리
- jmod : 자바의 모듈 파일(.jmod)을 생성, 출력
- jlink : 응용프로그램에 맞춘 맞춤형 JRE 생성
- jdb : 자바 프로그램 실행 중 오류를 찾는 데 사용되는 디버거
- javap : 바이트 코드를 소스와 함께 보여주는 디스어셈블러(disassembler)

## 주요 자바 배포판

- Java SE(Standard Edition) : 자바 표준 배포판으로 데스크톱 응용프로그램과 서버 응용프로그램을 개발하기 위한 JDK
- Java ME(Micro Edition) : 모바일용 배포판으로 IoT, TV, 블루레이, 셋톱팍스 등 작은 하드웨어 자원을 갖는 장치에 적합한 JDK
- Java EE(Enterprise Edition) : 기업용 배포판으로 자바를 이용한 다중 사용자, 대규모 기업 응용프로그램 개발을 위한 JDK

## 자바 언어의 활용

- 데스크톱 응용프로그램 : PC 등의 데스크톱 컴퓨터에 실행되는 자바 프로그램
- 서블릿(servlet) 응용프로그램 : 웹 서버에서 실행되는 서버용 자바 프로그램
- 안드로이드(Android) 응용프로그램 : 구글의 주도로 OHA(Open Handset Alliance)에서 개발한 무료 모바일 플랫폼인 안드로이드의 프로그램

## 기타 특징들

### 객체 지향

- 자바는 객체 지향 언어로 캡슐화, 상속, 다형성을 지원
- 프로그램을 객체 간의 상호 관계로 모델링하여 인간의 사고에 가깝게 표현

### 소스와 클래스 파일

- 클래스 파일은 반드시 자바 소스 코드의 클래스 하나만 존재
- 하나의 자바 소스 파일에 여러 개의 클래스를 작성한 경우, 컴파일하면 클래스마다 별도의 클래스 파일 생성

### 실행

- 자바 응용프로그램은 한 개의 클래스 파일 또는 다수의 클래스 파일로 구성
- 다수의 클래스 파일을 자바 아카이브 파일 형태로 배포하거나 실행 가능
- 자바의 실행은 main() 메소드에서 시작
- 하나의 클래스 파일에 두 개 이상의 main() 메소드는 존재할 수 없지만 각 클래스 파일이 main() 메소드를 가지는 것은 가능

### 멀티스레드

- 하나의 자바 프로그램이 다수의 작업을 처리할 수 있도록 다수의 스레드가 동시에 실행할 수 있는 환경 제공
- 운영체제가 멀티스레드를 지원하지 않아도 자바를 이용하면 멀티스레드 프로그램 개발 가능

### 가비지 컬렉션

- 자바 언어는 메모리를 할당받는 기능은 있지만, 메모리를 반환하는 기능은 부재
- 프로그램 내에 사용되지 않는 메모리는 자바 가상 머신의 가비지 컬렉션이 회수

### 실시간 응용 시스템

- 자바 프로그램은 실행 도중 예측할 수 없는 시점에 가비지 컬렉션이 실행
- 일정 시간 내에 반드시 실행 결과를 내야하는 실시간 시스템에는 자바 언어 부적합

### 안전성

- 타입 체크가 매우 엄격
- 메모리의 물리적 주소를 사용하는 포인터 개념 부재

### JIT(Just In Time) 컴파일러

- 자바 가상 머신의 바이트 코드를 실행하는 방식인 인터프리터 방식은 느린 속도가 단점
- 이를 개선하기 위해 프로그램 실행 도중 특정 바이트 코드를 실행하는 시점에 기계어 코드로 컴파일하는 JIT 컴파일링 기법 사용 
